stdout | packages/providers/tests/auth.test.ts
ğŸ”° Starting Auth API Layer Tests
ğŸ‘¤ Test user data initialized

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should complete the full authentication flow successfully
ğŸ”„ Mock Axios client created
ğŸ”§ Auth service initialized

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should complete the full authentication flow successfully
ğŸ¯ Starting full authentication flow test
ğŸ“ Step 1: User Registration
â¡ï¸ Register request prepared: { email: 'john.doe@example.com' }
ğŸ“‹ Mock registered user response prepared
ğŸ­ Register mock configured

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should complete the full authentication flow successfully
âœ… Registration successful: { userId: 1 }
âœ“ Registration assertions passed
ğŸ”‘ Step 2: Initial Login
â¡ï¸ Login request prepared: { email: 'john.doe@example.com' }
ğŸ“‹ Mock login response prepared
ğŸ­ Login mock configured

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should complete the full authentication flow successfully
âœ… Initial login successful
âœ“ Login assertions passed
ğŸšª Step 3: Logout
â¡ï¸ Logout request prepared
ğŸ­ Logout mock configured

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should complete the full authentication flow successfully
âœ… Logout successful
âœ“ Logout assertions passed
ğŸ”„ Step 4: Second Login
ğŸ“‹ Mock second login response prepared
ğŸ­ Second login mock configured

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should complete the full authentication flow successfully
âœ… Second login successful
âœ“ Second login assertions passed
ğŸ‰ Full authentication flow test completed successfully

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should complete the full authentication flow successfully
ğŸ§¹ Mocks cleared after test

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should handle registration failure gracefully
ğŸ”„ Mock Axios client created
ğŸ”§ Auth service initialized

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should handle registration failure gracefully
ğŸ¯ Starting registration failure test
â¡ï¸ Register request prepared: { email: 'john.doe@example.com' }
ğŸ­ Register mock configured for failure

stderr | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should handle registration failure gracefully
âš ï¸ Registration failed as expected

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should handle registration failure gracefully
âœ“ Registration failure assertions passed
âœ… Registration failure test completed

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should handle registration failure gracefully
ğŸ§¹ Mocks cleared after test

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should handle login failure gracefully
ğŸ”„ Mock Axios client created
ğŸ”§ Auth service initialized

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should handle login failure gracefully
ğŸ¯ Starting login failure test
â¡ï¸ Invalid login request prepared: { email: 'john.doe@example.com' }
ğŸ­ Login mock configured for failure

stderr | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should handle login failure gracefully
âš ï¸ Login failed as expected

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should handle login failure gracefully
âœ“ Login failure assertions passed
âœ… Login failure test completed

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should handle login failure gracefully
ğŸ§¹ Mocks cleared after test

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should handle logout failure gracefully
ğŸ”„ Mock Axios client created
ğŸ”§ Auth service initialized

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should handle logout failure gracefully
ğŸ¯ Starting logout failure test
â¡ï¸ Invalid logout request prepared
ğŸ­ Logout mock configured for failure

stderr | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should handle logout failure gracefully
âš ï¸ Logout failed as expected

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should handle logout failure gracefully
âœ“ Logout failure assertions passed
âœ… Logout failure test completed

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should handle logout failure gracefully
ğŸ§¹ Mocks cleared after test

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should handle token refresh successfully
ğŸ”„ Mock Axios client created
ğŸ”§ Auth service initialized

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should handle token refresh successfully
ğŸ¯ Starting token refresh test
â¡ï¸ Refresh request prepared
ğŸ“‹ Mock refresh response prepared
ğŸ­ Refresh mock configured

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should handle token refresh successfully
âœ… Token refresh successful
âœ“ Refresh assertions passed
ğŸ‰ Token refresh test completed successfully

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should handle token refresh successfully
ğŸ§¹ Mocks cleared after test

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should handle token refresh failure gracefully
ğŸ”„ Mock Axios client created
ğŸ”§ Auth service initialized

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should handle token refresh failure gracefully
ğŸ¯ Starting token refresh failure test
â¡ï¸ Invalid refresh request prepared
ğŸ­ Refresh mock configured for failure

stderr | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should handle token refresh failure gracefully
âš ï¸ Token refresh failed as expected

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should handle token refresh failure gracefully
âœ“ Refresh failure assertions passed
âœ… Token refresh failure test completed

stdout | packages/providers/tests/auth.test.ts > Auth API Layer Tests > should handle token refresh failure gracefully
ğŸ§¹ Mocks cleared after test

 âœ“  packages  packages/providers/tests/auth.test.ts (6 tests) 12ms
stdout | packages/store/tests/auth.test.ts > Auth State Layer Tests > Login > should successfully login with valid credentials
ğŸ”„ Test environment reset

stdout | packages/store/tests/auth.test.ts > Auth State Layer Tests > Login > should successfully login with valid credentials
ğŸ¯ Starting login test with valid credentials
ğŸ“ Created mock data provider
ğŸ‘¤ Test credentials prepared: { email: 'test@example.com' }
ğŸ”‘ Mock auth response configured
ğŸ­ Login spy setup complete
â–¶ï¸ Dispatching login action...

stdout | packages/store/tests/auth.test.ts > Auth State Layer Tests > Login > should successfully login with valid credentials
âœ¨ Login action completed: { type: 'auth/login/fulfilled' }
ğŸ“Š Authentication state: { isAuthenticated: true, hasTokens: true }
âœ… Login test passed successfully

stdout | packages/store/tests/auth.test.ts > Auth State Layer Tests > Login > should handle login failure with invalid credentials
ğŸ”„ Test environment reset

stdout | packages/store/tests/auth.test.ts > Auth State Layer Tests > Login > should handle login failure with invalid credentials
ğŸ¯ Starting login failure test
âš ï¸ Invalid credentials prepared: { email: 'test@example.com' }
ğŸ­ Login spy configured for error
â–¶ï¸ Attempting login with invalid credentials...

stderr | packages/store/tests/auth.test.ts > Auth State Layer Tests > Login > should handle login failure with invalid credentials
âš ï¸ Login failed as expected: { type: 'auth/login/rejected' }

stdout | packages/store/tests/auth.test.ts > Auth State Layer Tests > Login > should handle login failure with invalid credentials
ğŸ“Š Failed auth state: { isAuthenticated: false, hasError: true }
âœ… Login failure test passed

stdout | packages/store/tests/auth.test.ts > Auth State Layer Tests > Register > should successfully register a new user
ğŸ”„ Test environment reset

stdout | packages/store/tests/auth.test.ts > Auth State Layer Tests > Register > should successfully register a new user
ğŸ¯ Starting user registration test
ğŸ‘¤ Registration data prepared: { email: 'test@example.com', name: 'Test User' }
ğŸ“ Mock registered user response configured
ğŸ­ Register spy setup complete
â–¶ï¸ Dispatching register action...

stdout | packages/store/tests/auth.test.ts > Auth State Layer Tests > Register > should successfully register a new user
âœ¨ Registration completed: { type: 'auth/register/fulfilled' }
ğŸ“Š Registration state: { error: null, loading: false }
âœ… Registration test passed successfully

stdout | packages/store/tests/auth.test.ts > Auth State Layer Tests > Register > should handle registration failure with existing email
ğŸ”„ Test environment reset

stdout | packages/store/tests/auth.test.ts > Auth State Layer Tests > Register > should handle registration failure with existing email
ğŸ¯ Starting registration failure test
âš ï¸ Existing user data prepared: { email: 'existing@example.com' }
ğŸ­ Register spy configured for error
â–¶ï¸ Attempting registration with existing email...

stdout | packages/store/tests/auth.test.ts > Auth State Layer Tests > Register > should handle registration failure with existing email
ğŸ“Š Failed registration state: { error: 'Email already exists', loading: false }
âœ… Registration failure test passed

stderr | packages/store/tests/auth.test.ts > Auth State Layer Tests > Register > should handle registration failure with existing email
âš ï¸ Registration failed as expected: { type: 'auth/register/rejected' }

stdout | packages/store/tests/auth.test.ts > Auth State Layer Tests > Logout > should successfully logout user
ğŸ”„ Test environment reset

stdout | packages/store/tests/auth.test.ts > Auth State Layer Tests > Logout > should successfully logout user
ğŸ¯ Starting logout test
ğŸ“ Initial state configured with active session
ğŸ”„ Store reset with authenticated state
ğŸ”‘ Logout tokens prepared
ğŸ­ Logout spy setup complete
â–¶ï¸ Dispatching logout action...

stdout | packages/store/tests/auth.test.ts > Auth State Layer Tests > Logout > should successfully logout user
âœ¨ Logout completed: { type: 'auth/logout/fulfilled' }
ğŸ“Š Post-logout state: { isAuthenticated: false, hasTokens: false }
âœ… Logout test passed successfully

stdout | packages/store/tests/auth.test.ts > Auth State Layer Tests > Logout > should handle logout failure
ğŸ”„ Test environment reset

stdout | packages/store/tests/auth.test.ts > Auth State Layer Tests > Logout > should handle logout failure
ğŸ¯ Starting logout failure test
ğŸ“ Initial state configured
ğŸ”„ Store reset with authenticated state
ğŸ”‘ Logout tokens prepared
ğŸ­ Logout spy configured for error
â–¶ï¸ Attempting logout with error...

stderr | packages/store/tests/auth.test.ts > Auth State Layer Tests > Logout > should handle logout failure
âš ï¸ Logout failed as expected: { type: 'auth/logout/rejected' }

stdout | packages/store/tests/auth.test.ts > Auth State Layer Tests > Logout > should handle logout failure
ğŸ“Š Failed logout state: { error: null, loading: false }
âœ… Logout failure test passed

stdout | packages/store/tests/auth.test.ts > Auth State Layer Tests > Token Refresh > should successfully refresh access token
ğŸ”„ Test environment reset

stdout | packages/store/tests/auth.test.ts > Auth State Layer Tests > Token Refresh > should successfully refresh access token
ğŸ¯ Starting token refresh test
ğŸ“ Initial state configured with existing tokens
ğŸ”„ Store reset with authenticated state
ğŸ”‘ Refresh tokens prepared
ğŸ“ Mock refresh response configured
ğŸ­ Refresh spy setup complete
â–¶ï¸ Dispatching token refresh action...

stdout | packages/store/tests/auth.test.ts > Auth State Layer Tests > Token Refresh > should successfully refresh access token
âœ¨ Token refresh completed: { type: 'auth/refreshToken/fulfilled' }
ğŸ“Š Post-refresh state: { isAuthenticated: true, hasNewToken: true }
âœ… Token refresh test passed successfully

stdout | packages/store/tests/auth.test.ts > Auth State Layer Tests > Token Refresh > should handle token refresh failure
ğŸ”„ Test environment reset

stdout | packages/store/tests/auth.test.ts > Auth State Layer Tests > Token Refresh > should handle token refresh failure
ğŸ¯ Starting token refresh failure test
ğŸ“ Initial state configured with invalid refresh token
ğŸ”„ Store reset with authenticated state
ğŸ”‘ Invalid refresh token prepared
ğŸ­ Refresh spy configured for error
â–¶ï¸ Attempting token refresh with invalid token...

stderr | packages/store/tests/auth.test.ts > Auth State Layer Tests > Token Refresh > should handle token refresh failure
âš ï¸ Token refresh failed as expected: { type: 'auth/refreshToken/rejected' }

stdout | packages/store/tests/auth.test.ts > Auth State Layer Tests > Token Refresh > should handle token refresh failure
ğŸ“Š Failed refresh state: { error: null, loading: false }
âœ… Token refresh failure test passed

 âœ“  packages  packages/store/tests/auth.test.ts (8 tests) 16ms

 Test Files  2 passed (2)
      Tests  14 passed (14)
   Start at  22:44:14
   Duration  785ms (transform 146ms, setup 0ms, collect 336ms, tests 28ms, environment 530ms, prepare 108ms)
